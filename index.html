<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* Base Styles */
        .shopify-reviews-widget {
            font-family: sans-serif;
            color: #2e2e2e;
            background-color: transparent;
            padding: 20px 0;
            overflow: hidden; /* For slider */
        }

        .widget-title {
            text-align: center;
            font-size: 2.5em;
            color: #b0b0b0; /* Lighter grey for title */
            margin-bottom: 40px;
        }

        /* Reviews Carousel */
        .reviews-carousel {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 1200px; /* Max width for the carousel */
            margin: 0 auto;
            padding: 0 50px; /* Space for arrows */
            box-sizing: border-box;
        }

        .reviews-container {
            display: flex;
            overflow-x: auto; /* Enable horizontal scrolling */
            scroll-snap-type: x mandatory; /* Snap to individual cards */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            scrollbar-width: none; /* Hide scrollbar for Firefox */
            -ms-overflow-style: none; /* Hide scrollbar for IE/Edge */
            padding-bottom: 10px; /* Space for potential scrollbar that's hidden */
            gap: 20px; /* Space between review cards */
        }

        .reviews-container::-webkit-scrollbar {
            display: none; /* Hide scrollbar for Chrome, Safari, Opera */
        }

        /* Slider Arrows */
        .slider-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5em;
            color: #2e2e2e;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .slider-arrow:hover {
            background-color: #574b90;
            color: #ffffff;
        }

        .left-arrow {
            left: 10px;
        }

        .right-arrow {
            right: 10px;
        }

        /* Review Card */
        .review-card {
            flex: 0 0 auto; /* Prevent cards from shrinking */
            width: 280px; /* Fixed width for cards */
            background-color: #eeeeee;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            scroll-snap-align: start;
        }

        .reviewer-info {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .reviewer-img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
        }

        .reviewer-details {
            display: flex;
            flex-direction: column;
        }

        .reviewer-name {
            font-weight: bold;
            font-size: 1.1em;
            display: flex;
            align-items: center;
        }

        .verified-icon {
            margin-left: 5px;
            color: #574b90;
            font-size: 0.9em;
        }

        .review-date {
            font-size: 0.9em;
            color: #777;
        }

        .rating-stars {
            margin-bottom: 15px;
        }

        .rating-stars .star {
            color: #e7721b;
            font-size: 1.2em;
        }

        .review-content {
            font-size: 0.95em;
            line-height: 1.5;
            flex-grow: 1; /* Allow content to take available space */
        }

        .review-content-full {
            display: none; /* Hidden by default */
        }

        .read-more-btn {
            color: #574b90;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            display: inline-block; /* Ensure it takes its own line below the content */
        }

        /* Review Popup */
        .review-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden; /* Hidden by default */
            opacity: 0;
            transition: visibility 0.3s, opacity 0.3s;
        }

        .review-popup-overlay.visible {
            visibility: visible;
            opacity: 1;
        }

        .review-popup {
            background-color: #eeeeee;
            padding: 30px;
            border-radius: 8px;
            position: relative;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            color: #2e2e2e;
        }

        .popup-close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 2em;
            cursor: pointer;
            color: #777;
            transition: color 0.2s ease;
        }

        .popup-close-btn:hover {
            color: #2e2e2e;
        }

        .popup-content .reviewer-info {
            margin-bottom: 20px;
        }

        .popup-content .rating-stars {
            margin-bottom: 20px;
        }

        .popup-content .full-review-text {
            line-height: 1.6;
            font-size: 1em;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .reviews-carousel {
                padding: 0 20px;
            }
            .slider-arrow {
                width: 35px;
                height: 35px;
                font-size: 1.2em;
            }
            .widget-title {
                font-size: 2em;
            }
        }

        @media (max-width: 768px) {
            .review-card {
                width: 250px; /* Slightly smaller cards */
                padding: 15px;
            }
            .widget-title {
                font-size: 1.8em;
            }
            .left-arrow {
                left: 5px;
            }
            .right-arrow {
                right: 5px;
            }
            .reviews-container {
                padding-bottom: 5px;
            }
            .review-popup {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .shopify-reviews-widget {
                padding: 15px 0;
            }
            .widget-title {
                font-size: 1.5em;
                margin-bottom: 20px;
            }
            .reviews-carousel {
                padding: 0 10px;
            }
            .review-card {
                width: 200px; /* Even smaller cards for mobile */
                padding: 10px;
                margin-bottom: 10px;
            }
            .reviewer-img {
                width: 40px;
                height: 40px;
            }
            .reviewer-name {
                font-size: 1em;
            }
            .review-date {
                font-size: 0.8em;
            }
            .rating-stars .star {
                font-size: 1em;
            }
            .review-content {
                font-size: 0.85em;
            }
            .slider-arrow {
                width: 30px;
                height: 30px;
                font-size: 1em;
            }
            .popup-close-btn {
                font-size: 1.5em;
                top: 10px;
                right: 10px;
            }
            .review-popup {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <section class="shopify-reviews-widget">
        <h2 class="widget-title">What our clients say</h2>
        <div class="reviews-carousel">
            <button class="slider-arrow left-arrow">&lt;</button>
            <div class="reviews-container">
                </div>
            <button class="slider-arrow right-arrow">&gt;</button>
        </div>

        <div class="review-popup-overlay">
            <div class="review-popup">
                <button class="popup-close-btn">&times;</button>
                <div class="popup-content">
                    </div>
            </div>
        </div>
    </section>
    <script>
            document.addEventListener('DOMContentLoaded', () => {
            const reviewsData = [
                {
                    reviewerImg: 'https://via.placeholder.com/50/574b90/FFFFFF?text=OF', // Replace with actual Shopify asset URL if needed
                    reviewerName: 'Omar Farooq',
                    date: '2 hours ago',
                    rating: 5,
                    content: "As a regular customer from Bangladesh!"
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/e7721b/FFFFFF?text=RS',
                    reviewerName: 'Rajeev Sharma',
                    date: '2 hours ago',
                    rating: 4,
                    content: "Ordering from this store was a breeze, and the delivery to my doorstep in Mumbai was surprisingly fast. The shrimp I ordered were fresh and tasted great. The packaging was good too, keeping everything chilled. I'm satisfied with my purchase and will likely order again."
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/2e2e2e/FFFFFF?text=AK',
                    reviewerName: 'Ayesha Khan',
                    date: '2 hours ago',
                    rating: 5,
                    content: "I was so impressed with the Fresh Atlantic Salmon Fillet! It arrived perfectly chilled and looked incredibly fresh. It cooked beautifully and tasted amazing, very rich and flaky. This is definitely a new favorite and I highly recommend it for anyone looking for quality salmon."
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/574b90/FFFFFF?text=FH',
                    reviewerName: 'Fatima Al-Hassan',
                    date: '2 hours ago',
                    rating: 5,
                    content: "These Wild-Caught Cod Loins are a game-changer for our family meals. The loins were thick, boneless, and cooked up perfectly flaky and tender. The taste was very clean and fresh. My kids even loved them! This is a must-try for healthy and delicious dinners."
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/e7721b/FFFFFF?text=ZA',
                    reviewerName: 'Zoya Ahmed',
                    date: '2 hours ago',
                    rating: 5,
                    content: "I've ordered the Fresh Atlantic Salmon multiple times, and the quality is consistently exceptional. What truly makes them stand out is their dedication to ensuring every fillet is perfectly handled. The delivery is always on time, and the fish is always pristine. Highly recommended!"
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/2e2e2e/FFFFFF?text=AD',
                    reviewerName: 'Aman Das',
                    date: '3 hours ago',
                    rating: 4,
                    content: "The sea bass fillets were of good quality, and the delivery was prompt. They were well-packaged and arrived fresh. I found them easy to cook and they tasted good, though perhaps a little less firm than I expected. Overall, a decent purchase."
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/574b90/FFFFFF?text=PK',
                    reviewerName: 'Priya Kumari',
                    date: '3 hours ago',
                    rating: 5,
                    content: "Excellent quality prawns! They were large, fresh, and tasted fantastic in my curry. The ordering process was smooth, and they arrived exactly when expected. I'm very happy with this purchase and will definitely be buying more seafood from here."
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/e7721b/FFFFFF?text=SK',
                    reviewerName: 'Sameer Kapoor',
                    date: '4 hours ago',
                    rating: 3,
                    content: "The crab claws arrived in good condition, but I felt they were a bit small for the price. The taste was fine, but nothing exceptional. Delivery was quick, which was a plus. I might try other products next time."
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/2e2e2e/FFFFFF?text=NK',
                    reviewerName: 'Neha Kumari',
                    date: '4 hours ago',
                    rating: 5,
                    content: "Absolutely loved the scallops! They were plump, sweet, and cooked beautifully. Perfect for a quick gourmet meal at home. The packaging kept them fresh until I was ready to use them. Highly recommend for a special treat!"
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/574b90/FFFFFF?text=RM',
                    reviewerName: 'Rahul Mehra',
                    date: '5 hours ago',
                    rating: 4,
                    content: "The squid rings were quite good, fresh and tender after cooking. They worked well in my stir-fry. The only minor issue was that some pieces were a bit irregular in size. Otherwise, a solid purchase for seafood lovers."
                },
                {
                    reviewerImg: 'https://via.placeholder.com/50/e7721b/FFFFFF?text=SA',
                    reviewerName: 'Sara Ali',
                    date: '5 hours ago',
                    rating: 5,
                    content: "Fantastic quality hake fillets! They were firm, white, and had a lovely mild flavor. Cooked them simply with lemon and herbs, and they were delicious. This store has quickly become my go-to for fresh fish. Always reliable and top-notch."
                }
            ];

            const reviewsContainer = document.querySelector('.reviews-container');
            const leftArrow = document.querySelector('.left-arrow');
            const rightArrow = document.querySelector('.right-arrow');
            const reviewPopupOverlay = document.querySelector('.review-popup-overlay');
            const popupContent = document.querySelector('.review-popup .popup-content');
            const popupCloseBtn = document.querySelector('.popup-close-btn');

            const CHAR_LIMIT = 110; // Character limit for visible review content

            // Function to render reviews
            function renderReviews() {
                reviewsContainer.innerHTML = ''; // Clear existing reviews
                reviewsData.forEach(review => {
                    const reviewCard = document.createElement('div');
                    reviewCard.classList.add('review-card');

                    const shortContent = review.content.length > CHAR_LIMIT
                        ? review.content.substring(0, CHAR_LIMIT) + '...'
                        : review.content;

                    const fullContent = review.content;

                    reviewCard.innerHTML = `
                        <div class="reviewer-info">
                            <img src="${review.reviewerImg}" alt="${review.reviewerName}" class="reviewer-img">
                            <div class="reviewer-details">
                                <div class="reviewer-name">
                                    ${review.reviewerName}
                                    <span class="verified-icon">&#10003;</span>
                                </div>
                                <div class="review-date">${review.date}</div>
                            </div>
                        </div>
                        <div class="rating-stars">
                            ${'<span class="star">&#9733;</span>'.repeat(review.rating)}
                        </div>
                        <div class="review-content">
                            <span class="review-content-short">${shortContent}</span>
                            <span class="review-content-full" style="display: none;">${fullContent}</span>
                            ${review.content.length > CHAR_LIMIT ? '<a href="#" class="read-more-btn">Read more</a>' : ''}
                        </div>
                    `;
                    reviewsContainer.appendChild(reviewCard);
                });
                addReadMoreListeners(); // Add listeners after rendering
            }

            // Add event listeners for "Read more" buttons
            function addReadMoreListeners() {
                document.querySelectorAll('.read-more-btn').forEach(button => {
                    button.removeEventListener('click', handleReadMoreClick); // Prevent duplicate listeners
                    button.addEventListener('click', handleReadMoreClick);
                });
            }

            // Handle "Read more" click
            function handleReadMoreClick(event) {
                event.preventDefault(); // Prevent default link behavior

                const reviewCard = event.target.closest('.review-card');
                if (!reviewCard) return;

                const reviewerImg = reviewCard.querySelector('.reviewer-img').src;
                const reviewerName = reviewCard.querySelector('.reviewer-name').firstChild.textContent.trim();
                const reviewDate = reviewCard.querySelector('.review-date').textContent;
                const ratingStarsHtml = reviewCard.querySelector('.rating-stars').innerHTML;
                const fullReviewText = reviewCard.querySelector('.review-content-full').textContent;

                popupContent.innerHTML = `
                    <div class="reviewer-info">
                        <img src="${reviewerImg}" alt="${reviewerName}" class="reviewer-img">
                        <div class="reviewer-details">
                            <div class="reviewer-name">
                                ${reviewerName}
                                <span class="verified-icon">&#10003;</span>
                            </div>
                            <div class="review-date">${reviewDate}</div>
                        </div>
                    </div>
                    <div class="rating-stars">
                        ${ratingStarsHtml}
                    </div>
                    <p class="full-review-text">${fullReviewText}</p>
                `;
                reviewPopupOverlay.classList.add('visible');
            }

            // Close popup
            popupCloseBtn.addEventListener('click', () => {
                reviewPopupOverlay.classList.remove('visible');
            });

            // Close popup if clicking outside
            reviewPopupOverlay.addEventListener('click', (event) => {
                if (event.target === reviewPopupOverlay) {
                    reviewPopupOverlay.classList.remove('visible');
                }
            });

            // Slider functionality
            leftArrow.addEventListener('click', () => {
                reviewsContainer.scrollBy({
                    left: -reviewsContainer.offsetWidth / 2, // Scroll by half visible width
                    behavior: 'smooth'
                });
            });

            rightArrow.addEventListener('click', () => {
                reviewsContainer.scrollBy({
                    left: reviewsContainer.offsetWidth / 2, // Scroll by half visible width
                    behavior: 'smooth'
                });
            });

            // Initial render of reviews
            renderReviews();
        });
    </script>
</body>
</html>
